<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stock Management</title>
    <style>
      /* All necessery styles here  */
    </style>
  </head>
  <body>
    <div id="create">
      <h1>Add Stock in Portfolio</h1>
      <form>
        <input placeholder="Company Name" id="name" type="text" />

        <select id="category">
          <option value="">Stock Category</option>
          <option value="Large Cap">Large Cap</option>
          <option value="Mid Cap">Mid Cap</option>
          <option value="Small Cap">Small Cap</option>

        </select>
        <input type="text" id="sector" placeholder="Sector" />

        <input placeholder="Stock Price" id="price" type="number" />

        <input placeholder="Quantity" id="quantity" type="number" />

        <label for="">Add Date:- </label>
        <input type="date" id="addDate" />

        <input type="submit" value="Add Stock" />
      </form>
    </div>
    <h1 id="total-price">Total Price:- <span>0</span></h1>
    <table>
      <thead>
        <tr>
          <th>Stock Name</th>
          <th>Category</th>
          <th>Sector</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Add Date</th>
          <th>Total Cost</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <!-- Append the rows here using JS  -->
      </tbody>
    </table>
  </body>
</html>
<script>

    let arr=[]
let Cform=document.querySelector("form")

Cform.addEventListener("submit" , (e) =>{
e.preventDefault()

let obj={
  Yname:Cform.name.value,
  Ycategory: Cform.category.value,
Ysector: Cform.sector.value,
Yprice: Cform.price.value,
Yquantity:Cform.quantity.value,
YaddDate: Cform.addDate.value
}

if(obj.Yname=="" ||obj.Ycategory=="" ||obj.Ysector=="" ||obj.Yprice=="" ||
obj.Yquantity=="" ||obj.YaddDate==""){alert("Fill all input fields")}
else{arr.push(obj) ; displaydata(arr)}


})
//console.log(arr)

//-----------------------

function displaydata(ok){
    let Ctbody=document.querySelector("tbody")
    Ctbody.innerHTML=null

    

    //--------toatl salary-------------
    let Ctotalprice=document.querySelector("#total-price")
     let sum=0
     arr.forEach((el , index)=>{
         sum= sum+Number(el.Yprice*el.Yquantity)
     })
     Ctotalprice.textContent=sum

     //------------------------------

    arr.forEach((el , index)=>{

        let Srow=document.createElement("tr")

        let Sname=document.createElement("td")
        let Scategory=document.createElement("td")
        let Ssector=document.createElement("td")
        let Sprice=document.createElement("td")
        let Squantity=document.createElement("td")
        let SaddDate=document.createElement("td")

        let Stotalcost=document.createElement("td")

       
       

     Sname.textContent=el.Yname
     Scategory.textContent=el.Ycategory
     Ssector.textContent=el.Ysector
    Sprice.textContent=el.Yprice
    Squantity.textContent=el.Yquantity
    SaddDate.textContent=el.YaddDate

    Stotalcost.textContent=el.Yprice*el.Yquantity


  //-----------------------

  let deleteB=document.createElement("td")  
  deleteB.textContent="Delete"
  deleteB.addEventListener("click" , (e)=>{
    arr.splice(index , 1)
    displaydata(arr)

  })

    //-----------------------
    Srow.append( Sname , Scategory , Ssector , Sprice , Squantity ,Stotalcost , SaddDate , deleteB )

    Ctbody.append(Srow)
    //-----------------------

    })

}

  </script>
